# Copy this file to `.env.local` for local development:
#
#   cp .env.example .env.local
#
# This file is intended for developer convenience only. In production, prefer
# configuring environment variables via your deployment platform and secret store.

# --- Internal services (Run/Artifact/Event) ---
# Required:
JARVIS_RUN_STORE_URL=http://127.0.0.1:8091
JARVIS_EVENT_STREAM_URL=http://127.0.0.1:8093
JARVIS_ARTIFACT_STORE_URL=http://127.0.0.1:8092
# Optional overrides:
# JARVIS_RUN_STORE_AUDIENCE=arp-jarvis-runstore
# JARVIS_EVENT_STREAM_AUDIENCE=arp-jarvis-eventstream
# JARVIS_ARTIFACT_STORE_AUDIENCE=arp-jarvis-artifactstore

# --- Coordinator public URL ---
# Optional overrides:
# JARVIS_RUN_COORDINATOR_PUBLIC_URL=http://127.0.0.1:8081

# --- Auto dispatch ---
# Optional overrides:
# JARVIS_RUN_COORDINATOR_AUTO_DISPATCH=true

# --- Downstream services (executors, selection, registry, PDP) ---
# Required:
JARVIS_ATOMIC_EXECUTOR_URL=http://127.0.0.1:8082
JARVIS_COMPOSITE_EXECUTOR_URL=http://127.0.0.1:8083
JARVIS_SELECTION_URL=http://127.0.0.1:8084
JARVIS_NODE_REGISTRY_URL=http://127.0.0.1:8085
JARVIS_PDP_URL=http://127.0.0.1:8086
# Optional overrides:
# JARVIS_ATOMIC_EXECUTOR_AUDIENCE=arp-jarvis-atomicexecutor
# JARVIS_COMPOSITE_EXECUTOR_AUDIENCE=arp-jarvis-compositeexecutor
# JARVIS_SELECTION_AUDIENCE=arp-jarvis-selection
# JARVIS_NODE_REGISTRY_AUDIENCE=arp-jarvis-noderegistry
# JARVIS_PDP_AUDIENCE=arp-jarvis-pdp

# --- Incoming auth (JWT) ---
# Profiles (ARP_AUTH_PROFILE) preset defaults:
# - dev-insecure: ARP_AUTH_MODE=disabled
# - dev-secure-keycloak: ARP_AUTH_MODE=required, ARP_AUTH_ISSUER=http://localhost:8080/realms/arp-dev
# - enterprise/prod: ARP_AUTH_MODE=required
# Required for local Keycloak STS:
ARP_AUTH_PROFILE=dev-secure-keycloak
ARP_AUTH_AUDIENCE=arp-run-coordinator
ARP_AUTH_ISSUER=http://localhost:8080/realms/arp-dev
# Optional overrides:
# ARP_AUTH_MODE=disabled
# ARP_AUTH_PROFILE=dev-insecure
# ARP_AUTH_JWKS_URI=
# ARP_AUTH_OIDC_DISCOVERY_URL=
# ARP_AUTH_ALGORITHMS=RS256
# ARP_AUTH_CLOCK_SKEW_SECONDS=60
# ARP_AUTH_EXEMPT_PATHS=/v1/health,/v1/version

# --- Outbound auth (token exchange to STS) ---
# Required:
ARP_AUTH_CLIENT_ID=arp-run-coordinator
ARP_AUTH_CLIENT_SECRET=changeme
ARP_AUTH_TOKEN_ENDPOINT=http://localhost:8080/realms/arp-dev/protocol/openid-connect/token
# Optional overrides:
# (none)
